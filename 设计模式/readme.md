## 设计模式

### 七大原则

七大原则比较设计模式和编程思想比较重要，下面我简单总结一下👇，这里并不会长篇幅地解释每个原则什么意思，仅仅是做个总结备忘录：

#### 单一职责原则

简单地说就是每个类负责一项职责，比如类A负责两个不同的职责：职责1和职责2，当职责1需求变化而要去改变A时，可能会导致职责2发生错误，所以要将类A的粒度细分为A1，A2

#### 接口隔离原则

就是一个类对另一个类的依赖应该建立在最小的接口上面，这种时候一般是要拆分接口

- 原来的接口：

![image-20210129165644660](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210129165644660.png)、

- 拆分后的接口

![image-20210129165723243](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210129165723243.png)

#### 依赖倒转原则

这个原则中心思想是面向接口编程，高层模块和底层模块都应该依赖它们的抽象。比如一个变量的类型声明或方法参数尽量使抽象类或者接口，这样变量引用和实际的对象之间有一个缓冲层

- 依赖关系传递的三种方式有
  1. 构造方法传递
  2. setter方法传递
  3. 接口传递

#### 里氏替换原则

简单地说就是子类继承了父类，子类尽量不要重写父类的方法，但是继承实际上让它们的耦合性更高了，可以使用组合，聚合，依赖的方式降低耦合度。但是更通用的做法是让原来的父类和子类都继承更加基类的类，让子类继承原来父类的关系去掉，直接用聚合，组合，依赖等方式

#### 开闭原则

最基础的设计原则，对修改关闭（使用一方），对拓展开放（提供一方）【更直接点说就是服务使用方的代码不变，服务提供方的代码改变】，这个法则是要看具体情况应变的，练习多一点就能知道如何通过这个原则来设计类了

#### 迪米特法则

这个法则又叫最少知道法则，简单说就是一个类依赖另一个类时，被依赖的类所有逻辑封装在自己身上，另一个类就直接调用这个依赖类封装好的逻辑，只管调用，无需知道它如何实现。

它还有另一个定义，只和**直接的朋友**通信【**直接的朋友**指的是出现在成员变量、方法参数、返回值的类称为直接朋友，局部变量的类不算】

#### 合成复用原则

直接点说尽量不要使用继承，而是使用聚合/组合方式

